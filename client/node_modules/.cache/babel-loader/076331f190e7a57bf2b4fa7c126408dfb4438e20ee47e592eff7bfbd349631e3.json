{"ast":null,"code":"import React,{useState}from\"react\";import axios from'axios';import{useNavigate}from'react-router-dom';import{API_URL}from'../../constants/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Form=()=>{const navigate=useNavigate();const[form,setForm]=useState({name:'',description:'',location:'',type:'Недвижимость'});const handleChange=e=>{const{name,value}=e.target;setForm(prevForm=>({...prevForm,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();try{const response=await axios.post(`${API_URL}`,form);navigate('/list');}catch(error){alert(\"Ошибка при создании объявления\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043E\\u0431\\u044A\\u044F\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",value:form.name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:form.description,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"location\",value:form.location,onChange:handleChange,required:true}),/*#__PURE__*/_jsxs(\"select\",{name:\"type\",value:form.type,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\\u041D\\u0435\\u0434\\u0432\\u0438\\u0436\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C\",children:\"\\u041D\\u0435\\u0434\\u0432\\u0438\\u0436\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0410\\u0432\\u0442\\u043E\",children:\"\\u0410\\u0432\\u0442\\u043E\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0423\\u0441\\u043B\\u0443\\u0433\\u0438\",children:\"\\u0423\\u0441\\u043B\\u0443\\u0433\\u0438\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\"})]})]});};export default Form;","map":{"version":3,"names":["React","useState","axios","useNavigate","API_URL","jsx","_jsx","jsxs","_jsxs","Form","navigate","form","setForm","name","description","location","type","handleChange","e","value","target","prevForm","handleSubmit","preventDefault","response","post","error","alert","children","onSubmit","placeholder","onChange","required"],"sources":["/Users/Olga/Desktop/avito-train/client/src/pages/Form/Form.tsx"],"sourcesContent":["import React, { useState }  from \"react\";\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { API_URL }  from '../../constants/api';\n\ninterface Item {\n    name: string;\n    description: string;\n    location: string;\n    type:  \"Недвижимость\" | \"Авто\" | \"Услуги\";\n    propertyType?: string;\n    area?: number;\n    rooms?: number;\n    price?: number;\n    brand?: string;\n    model?: string;\n    year?: number;\n    mileage?: number;\n    serviceType?: string;\n    experience?: number;\n    cost?: number;\n    workSchedule?: string;\n}\n\nconst Form: React.FC = () => {\n    const navigate = useNavigate();\n    const [form, setForm] = useState<Item>({\n        name: '',\n        description: '',\n        location: '',\n        type: 'Недвижимость',\n    })\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n        const { name, value } = e.target;\n        setForm((prevForm) => ({\n            ...prevForm,\n            [name]: value,\n        }));\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        try {\n            const response = await axios.post(`${API_URL}`, form);\n            navigate('/list');\n        } catch (error) {\n            alert (\"Ошибка при создании объявления\");\n        }\n    }\n    return (\n        <div>\n            <h1>Создать объявление</h1>\n            <form onSubmit={handleSubmit}>\n                <input \n                    type=\"text\"\n                    name=\"name\"\n                    placeholder=\"Название\"\n                    value={form.name}\n                    onChange={handleChange}\n                    required\n                />\n                <textarea \n                    name=\"description\"\n                    value={form.description}\n                    onChange={handleChange}\n                    required\n                />\n                <input \n                    type=\"text\" \n                    name=\"location\"\n                    value={form.location}\n                    onChange={handleChange}\n                    required\n                />\n                <select \n                    name=\"type\" \n                    value={form.type}\n                    onChange={handleChange}\n                    >\n                    <option value=\"Недвижимость\">Недвижимость</option>\n                    <option value=\"Авто\">Авто</option>\n                    <option value=\"Услуги\">Услуги</option>\n                </select>\n                <button type=\"submit\">Создать</button>\n            </form>\n        </div>\n    )\n}\nexport default Form;\n\n\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAS,OAAO,CACxC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,OAAO,KAAS,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAqB/C,KAAM,CAAAC,IAAc,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACQ,IAAI,CAAEC,OAAO,CAAC,CAAGX,QAAQ,CAAO,CACnCY,IAAI,CAAE,EAAE,CACRC,WAAW,CAAE,EAAE,CACfC,QAAQ,CAAE,EAAE,CACZC,IAAI,CAAE,cACV,CAAC,CAAC,CACF,KAAM,CAAAC,YAAY,CAAIC,CAAgF,EAAK,CACvG,KAAM,CAAEL,IAAI,CAAEM,KAAM,CAAC,CAAGD,CAAC,CAACE,MAAM,CAChCR,OAAO,CAAES,QAAQ,GAAM,CACnB,GAAGA,QAAQ,CACX,CAACR,IAAI,EAAGM,KACZ,CAAC,CAAC,CAAC,CACP,CAAC,CAED,KAAM,CAAAG,YAAY,CAAG,KAAO,CAAAJ,CAAkB,EAAK,CAC/CA,CAAC,CAACK,cAAc,CAAC,CAAC,CAClB,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAtB,KAAK,CAACuB,IAAI,CAAC,GAAGrB,OAAO,EAAE,CAAEO,IAAI,CAAC,CACrDD,QAAQ,CAAC,OAAO,CAAC,CACrB,CAAE,MAAOgB,KAAK,CAAE,CACZC,KAAK,CAAE,gCAAgC,CAAC,CAC5C,CACJ,CAAC,CACD,mBACInB,KAAA,QAAAoB,QAAA,eACItB,IAAA,OAAAsB,QAAA,CAAI,yGAAkB,CAAI,CAAC,cAC3BpB,KAAA,SAAMqB,QAAQ,CAAEP,YAAa,CAAAM,QAAA,eACzBtB,IAAA,UACIU,IAAI,CAAC,MAAM,CACXH,IAAI,CAAC,MAAM,CACXiB,WAAW,CAAC,kDAAU,CACtBX,KAAK,CAAER,IAAI,CAACE,IAAK,CACjBkB,QAAQ,CAAEd,YAAa,CACvBe,QAAQ,MACX,CAAC,cACF1B,IAAA,aACIO,IAAI,CAAC,aAAa,CAClBM,KAAK,CAAER,IAAI,CAACG,WAAY,CACxBiB,QAAQ,CAAEd,YAAa,CACvBe,QAAQ,MACX,CAAC,cACF1B,IAAA,UACIU,IAAI,CAAC,MAAM,CACXH,IAAI,CAAC,UAAU,CACfM,KAAK,CAAER,IAAI,CAACI,QAAS,CACrBgB,QAAQ,CAAEd,YAAa,CACvBe,QAAQ,MACX,CAAC,cACFxB,KAAA,WACIK,IAAI,CAAC,MAAM,CACXM,KAAK,CAAER,IAAI,CAACK,IAAK,CACjBe,QAAQ,CAAEd,YAAa,CAAAW,QAAA,eAEvBtB,IAAA,WAAQa,KAAK,CAAC,0EAAc,CAAAS,QAAA,CAAC,0EAAY,CAAQ,CAAC,cAClDtB,IAAA,WAAQa,KAAK,CAAC,0BAAM,CAAAS,QAAA,CAAC,0BAAI,CAAQ,CAAC,cAClCtB,IAAA,WAAQa,KAAK,CAAC,sCAAQ,CAAAS,QAAA,CAAC,sCAAM,CAAQ,CAAC,EAClC,CAAC,cACTtB,IAAA,WAAQU,IAAI,CAAC,QAAQ,CAAAY,QAAA,CAAC,4CAAO,CAAQ,CAAC,EACpC,CAAC,EACN,CAAC,CAEd,CAAC,CACD,cAAe,CAAAnB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}